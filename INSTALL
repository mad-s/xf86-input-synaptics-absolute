Installation of the Synaptics Touchpad Driver for XFree 4.x
===========================================================

Author: Stefan Gmeiner <riddlebox@freesurf.ch>

Requirements
------------

- Using with kernel 2.4.x for x < 10 needs a kernel patch
  (pc_keyb.c.diff.2.4.3).

- For use with kernel 2.6.x you need to enable synaptics touchpad
  support when configuring the kernel. (CONFIG_MOUSE_PS2 and
  CONFIG_MOUSE_PS2_SYNAPTICS). You also need support for the evdev
  interface (CONFIG_INPUT_EVDEV). If you compile evdev as a module,
  make sure it is loaded before starting the X server, as it will not
  be auto-loaded.

- For use with an ALPS touchpad, you need to use a 2.6.x kernel and
  apply the alps patch. See the README.alps file for more details.

Installing
----------

1. If you are installing the driver by binary you can go to step 3.

2. Type "make" to build the driver "synaptics_drv.o".

3. Copy the driver module "synaptics_drv.o" into the XFree module path
"ex. /usr/X11R6/lib/modules/input/". Running "make install" as root
will do this for you if you have X installed in /usr/X11R6/.

4. Load the driver by changig the XFree configuration file through
adding the line 'Load "synaptics"' in the module section.

5. Add/Replace in the InputDevice section for the touchpad the
following lines:

Section "InputDevice"
  Driver  	"synaptics"
  Identifier  	"Mouse[1]"
  Option 	"Device"  	"/dev/psaux"
  Option	"Protocol"	"auto-dev"
  Option	"LeftEdge"      "1900"
  Option	"RightEdge"     "5400"
  Option	"TopEdge"       "1900"
  Option	"BottomEdge"    "4000"
  Option	"FingerLow"	"25"
  Option	"FingerHigh"	"30"
  Option	"MaxTapTime"	"180"
  Option	"MaxTapMove"	"220"
  Option	"VertScrollDelta" "100"
  Option	"MinSpeed"	"0.02"
  Option	"MaxSpeed"	"0.18"
  Option	"AccelFactor" "0.0010"
  Option	"SHMConfig"	"on"
#  Option	"Repeater"	"/dev/ps2mouse"
EndSection

Change the Identifier to the same name as in the ServerLayout section.
The Option "Repeater" is at the moment for testing.

6. Add the "CorePointer" option to the InputDevice line at the ServerLayout section:

Section "ServerLayout"
...
  InputDevice "Mouse[1]"  "CorePointer"
...

7. Start/Restart the X Server. If the touchpad doesn't work:
   a) Check the XFree Logfiles
   b) Try to start the XServer with 'startx -- -logverbose 8' for more
      Output

8. If you want to be able to change driver parameters without
   restarting the X server, enable the "SHMConfig" option in the XFree
   configuration file. You can then use the "synclient" program to
   query and modify driver parameters on the fly.
   Note! This is not secure if you are in an untrusted multiuser
   environment. All local users can change the parameters at any
   time.

If you can't get the driver working, mail the logfiles and the
configuration file to petero2@telia.com. If you use a 2.6.x linux
kernel, also mail the output from dmesg and the contents of
/proc/bus/input/devices.
